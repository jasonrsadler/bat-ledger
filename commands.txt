
# surveyor creation

curl -X POST --header 'Authorization: Bearer foobarfoobar' --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{"adFree":{"fee":{"USD":5},"votes":5,"altcurrency":"BAT","probi":"27116311373482831368"}}' 'http://127.0.0.1:3001/v2/surveyor/contribution'

# grants creation
curl -X POST --header 'Authorization: Bearer foobarfoobar' --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{"grants": [ "eyJhbGciOiJFZERTQSIsImtpZCI6IiJ9.eyJhbHRjdXJyZW5jeSI6IkJBVCIsImdyYW50SWQiOiJhNDMyNjg1My04NzVlLTQ3MDgtYjhkNS00M2IwNGMwM2ZmZTgiLCJwcm9iaSI6IjMwMDAwMDAwMDAwMDAwMDAwMDAwIiwicHJvbW90aW9uSWQiOiI5MDJlN2U0ZC1jMmRlLTRkNWQtYWFhMy1lZThmZWU2OWY3ZjMiLCJtYXR1cml0eVRpbWUiOjE1MTUwMjkzNTMsImV4cGlyeVRpbWUiOjE4MzAzODkzNTN9.8M5dpr_rdyCURd7KBc4GYaFDsiDEyutVqG-mj1QRk7BCiihianvhiqYeEnxMf-F4OU0wWyCN5qKDTxeqait_BQ", "eyJhbGciOiJFZERTQSIsImtpZCI6IiJ9.eyJhbHRjdXJyZW5jeSI6IkJBVCIsImdyYW50SWQiOiI1MGJiNzA3NS0yYzU4LTQ1NzMtYmRjYi1jZWUxYTcyZjc5NTUiLCJwcm9iaSI6IjMwMDAwMDAwMDAwMDAwMDAwMDAwIiwicHJvbW90aW9uSWQiOiI5MDJlN2U0ZC1jMmRlLTRkNWQtYWFhMy1lZThmZWU2OWY3ZjMiLCJtYXR1cml0eVRpbWUiOjE1MTUwMjkzNTMsImV4cGlyeVRpbWUiOjE4MzAzODkzNTN9.UsHkLTqfIeb26wwECrjueTiSQqQwutf8UfuIpvhlhEb3byd5vK4WTEdpIPD3VV4v0T4SnjB8L4U-c7nRjH4DBg", "eyJhbGciOiJFZERTQSIsImtpZCI6IiJ9.eyJhbHRjdXJyZW5jeSI6IkJBVCIsImdyYW50SWQiOiJiZDJmMWZmOC01YTUyLTQ1YmEtYTEwYy0wMjkzM2FlNTgwNzciLCJwcm9iaSI6IjMwMDAwMDAwMDAwMDAwMDAwMDAwIiwicHJvbW90aW9uSWQiOiI5MDJlN2U0ZC1jMmRlLTRkNWQtYWFhMy1lZThmZWU2OWY3ZjMiLCJtYXR1cml0eVRpbWUiOjE1MTUwMjkzNTMsImV4cGlyeVRpbWUiOjE4MzAzODkzNTN9.QIMTljjo2_qSdx8gf6vyw2CSC2vEqPE5f8g8YUKdQAOJX1NWBmN8D3si_Uiukd5MGOJZXIhv0O1Ifzwo-V62DQ", "eyJhbGciOiJFZERTQSIsImtpZCI6IiJ9.eyJhbHRjdXJyZW5jeSI6IkJBVCIsImdyYW50SWQiOiIyNzk0OWIzYy00ZDkxLTQxOGEtYThmNS0xMjhjZTM2NWNmMzEiLCJwcm9iaSI6IjMwMDAwMDAwMDAwMDAwMDAwMDAwIiwicHJvbW90aW9uSWQiOiI5MDJlN2U0ZC1jMmRlLTRkNWQtYWFhMy1lZThmZWU2OWY3ZjMiLCJtYXR1cml0eVRpbWUiOjE1MTUwMjkzNTMsImV4cGlyeVRpbWUiOjE4MzAzODkzNTN9.cMu1uSuCzkyCWq9NeMwH9PhZd8-5knb7h3NMrAGEHhm9Rj6dbbiZoT4LMD9OyRsSZQ8WKzEp98JTCtBCa3h-AA", "eyJhbGciOiJFZERTQSIsImtpZCI6IiJ9.eyJhbHRjdXJyZW5jeSI6IkJBVCIsImdyYW50SWQiOiI0NGU5ZWY4MS02NDEzLTQ3ODQtYTYyNS00ZjAzYjE1MTQ1ZWIiLCJwcm9iaSI6IjMwMDAwMDAwMDAwMDAwMDAwMDAwIiwicHJvbW90aW9uSWQiOiI5MDJlN2U0ZC1jMmRlLTRkNWQtYWFhMy1lZThmZWU2OWY3ZjMiLCJtYXR1cml0eVRpbWUiOjE1MTUwMjkzNTMsImV4cGlyeVRpbWUiOjE4MzAzODkzNTN9.8ddsW_LoKoc0kPU1aD8m8AZym3l2dW92NHceAUF6FyuNumqwjWTV3fF_eRwMiz6cWmgysWnJKfang9fApIysDw", "eyJhbGciOiJFZERTQSIsImtpZCI6IiJ9.eyJhbHRjdXJyZW5jeSI6IkJBVCIsImdyYW50SWQiOiJiNjkwM2M2ZS1lOTUxLTRmMWYtYjMxMy1mZTE5MTQyOGY3MzMiLCJwcm9iaSI6IjMwMDAwMDAwMDAwMDAwMDAwMDAwIiwicHJvbW90aW9uSWQiOiI5MDJlN2U0ZC1jMmRlLTRkNWQtYWFhMy1lZThmZWU2OWY3ZjMiLCJtYXR1cml0eVRpbWUiOjE1MTUwMjkzNTMsImV4cGlyeVRpbWUiOjE4MzAzODkzNTN9.jWXyiCmw5Wqjt2j8UXtjBND1dxLlOzIV_4GOStZdkfzzMHWjvzy7wBjvfn3a7vseYL_xQObQ0lq2DoqIkmhWCQ", "eyJhbGciOiJFZERTQSIsImtpZCI6IiJ9.eyJhbHRjdXJyZW5jeSI6IkJBVCIsImdyYW50SWQiOiI5NmYwNjFlNy1iMmFkLTQxMWEtOWY5MS05OTdmNDA1OGY1OTQiLCJwcm9iaSI6IjMwMDAwMDAwMDAwMDAwMDAwMDAwIiwicHJvbW90aW9uSWQiOiI5MDJlN2U0ZC1jMmRlLTRkNWQtYWFhMy1lZThmZWU2OWY3ZjMiLCJtYXR1cml0eVRpbWUiOjE1MTUwMjkzNTMsImV4cGlyeVRpbWUiOjE4MzAzODkzNTN9.Uy4leYMUfexPifxKKGQQf7TP9JYQAbSNEccl-vX8A_uJ-4DBFOCUF1QpOeitRFBFC0pmJKIcg1viwSFN-d3vDQ", "eyJhbGciOiJFZERTQSIsImtpZCI6IiJ9.eyJhbHRjdXJyZW5jeSI6IkJBVCIsImdyYW50SWQiOiI0MDZlYjkxMy00MjA0LTRmNjYtOWZiYi1lMDYzMmYxNzIyNzQiLCJwcm9iaSI6IjMwMDAwMDAwMDAwMDAwMDAwMDAwIiwicHJvbW90aW9uSWQiOiI5MDJlN2U0ZC1jMmRlLTRkNWQtYWFhMy1lZThmZWU2OWY3ZjMiLCJtYXR1cml0eVRpbWUiOjE1MTUwMjkzNTMsImV4cGlyeVRpbWUiOjE4MzAzODkzNTN9.e2N5f6oqcCV9_Aa-K91V0xqCh80wprKsrusTQVHHdteVrkXz_wfLOa7daRU0TJJbeLy27rwFQn3tCsAxvluiCg", "eyJhbGciOiJFZERTQSIsImtpZCI6IiJ9.eyJhbHRjdXJyZW5jeSI6IkJBVCIsImdyYW50SWQiOiJhODQ1NWE0OS1kNDVkLTRkYTgtOGNiYS1jNTFlYWJmNGVlNDMiLCJwcm9iaSI6IjMwMDAwMDAwMDAwMDAwMDAwMDAwIiwicHJvbW90aW9uSWQiOiI5MDJlN2U0ZC1jMmRlLTRkNWQtYWFhMy1lZThmZWU2OWY3ZjMiLCJtYXR1cml0eVRpbWUiOjE1MTUwMjkzNTMsImV4cGlyeVRpbWUiOjE4MzAzODkzNTN9.mTQDcLzUwsKdjwZi4d1zq-hbiYt684FSS_putmql9SqEpT9NaUSjvsa4CLg6LQ7aQDejfddMNOJrmQt8YhfdCw", "eyJhbGciOiJFZERTQSIsImtpZCI6IiJ9.eyJhbHRjdXJyZW5jeSI6IkJBVCIsImdyYW50SWQiOiI5YTJkZmZlNC00ZDI5LTQxYWUtYTE5Mi02OGMyZWMyYWMyMTciLCJwcm9iaSI6IjMwMDAwMDAwMDAwMDAwMDAwMDAwIiwicHJvbW90aW9uSWQiOiI5MDJlN2U0ZC1jMmRlLTRkNWQtYWFhMy1lZThmZWU2OWY3ZjMiLCJtYXR1cml0eVRpbWUiOjE1MTUwMjkzNTMsImV4cGlyeVRpbWUiOjE4MzAzODkzNTN9.wtHjXWUcJB1wbMPK6CTCQYgNNHE-ft_sm99EuPIDDKWz7bP5QEwCuhuFGQ9hVeLtr64a2_7wx6lX6TvvNUuEDw" ], "promotions": [{"active": true,"priority": 0,"promotionId": "902e7e4d-c2de-4d5d-aaa3-ee8fee69f7f3"}]}' 'http://127.0.0.1:3001/v1/grants'


# get into the docker mongo
docker exec -it ledger-mongo mongo

# change the db to admin
use admin

# start up the tests
docker-compose run --rm -v $(pwd)/test:/usr/src/app/test ledger-web npm run test-integration